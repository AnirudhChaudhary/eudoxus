
module traffic_light_junction
{
    type light_state_t = enum { GREEN, YELLOW, RED, AMBER };

    var L1, L2, L3, L4 : light_state_t;
    var green, yellow, red, amber : light_state_t;

    procedure switch_lights()
    {
        if (L1 == GREEN && L3 == GREEN) {
            L1' = YELLOW;
            L3' = YELLOW;
        } else if (L2 == GREEN) {
            L2' = YELLOW;
        } else if (L4 == GREEN) {
            L4' = YELLOW;
        }
    }

    init {
        L1 = GREEN;
        L2 = RED;
        L3 = GREEN;
        L4 = RED;
    }

    next {
        switch_lights();
    }

}



In this model, the `switch_lights` procedure defines the logic for switching the green traffic lights in the specified order (L1 and L3 together, then L2, then L4). The `init` block initializes the initial states of the traffic lights, and the `next` block calls the `switch_lights` procedure to transition the traffic lights based on the specified order.
